export const SupportedProvider = {
  OPENAI: 'openai',
  ANTHROPIC: 'anthropic',
  GOOGLE: 'google',
  MISTRAL: 'mistral',
  PERPLEXITY: 'perplexity',
  COHERE: 'cohere',
  TOGETHERAI: 'togetherai',
} as const;

export const SupportedModel = {
  GPT_3_5_TURBO: 'gpt-3.5-turbo',
  GPT_3_5_TURBO_0125: 'gpt-3.5-turbo-0125',
  GPT_4: 'gpt-4',
  GPT_4_0613: 'gpt-4-0613',
  GPT_4_1106_PREVIEW: 'gpt-4-1106-preview',
  GPT_4_TURBO: 'gpt-4-turbo',
  GPT_4_TURBO_PREVIEW: 'gpt-4-turbo-preview',
  GPT_4_TURBO_2024_04_09: 'gpt-4-turbo-2024-04-09',
  GPT_4O_2024_05_13: 'gpt-4o-2024-05-13',
  GPT_4O_2024_08_06: 'gpt-4o-2024-08-06',
  GPT_4O: 'gpt-4o',
  GPT_4O_MINI_2024_07_18: 'gpt-4o-mini-2024-07-18',
  GPT_4O_MINI: 'gpt-4o-mini',
  GPT_4_0125_PREVIEW: 'gpt-4-0125-preview',
  GPT_4_1: 'gpt-4.1',
  GPT_4_1_2025_04_14: 'gpt-4.1-2025-04-14',
  GPT_4_1_MINI: 'gpt-4.1-mini',
  GPT_4_1_MINI_2025_04_14: 'gpt-4.1-mini-2025-04-14',
  GPT_4_1_NANO: 'gpt-4.1-nano',
  GPT_4_1_NANO_2025_04_14: 'gpt-4.1-nano-2025-04-14',
  CHATGPT_4O_LATEST: 'chatgpt-4o-latest',

  CLAUDE_2_1: 'claude-2.1',
  CLAUDE_3_OPUS_20240229: 'claude-3-opus-20240229',
  CLAUDE_3_SONNET_20240229: 'claude-3-sonnet-20240229',
  CLAUDE_3_5_SONNET_20240620: 'claude-3-5-sonnet-20240620',
  CLAUDE_3_5_SONNET_20241022: 'claude-3-5-sonnet-20241022',
  CLAUDE_3_5_SONNET_LATEST: 'claude-3-5-sonnet-latest',
  CLAUDE_3_HAIKU_20240307: 'claude-3-haiku-20240307',
  CLAUDE_3_5_HAIKU_20241022: 'claude-3-5-haiku-20241022',
  CLAUDE_3_7_SONNET_LATEST: 'claude-3-7-sonnet-latest',
  CLAUDE_3_7_SONNET_20250219: 'claude-3-7-sonnet-20250219',
  CLAUDE_OPUS_4_20250514: 'claude-opus-4-20250514',
  CLAUDE_SONNET_4_20250514: 'claude-sonnet-4-20250514',
  CLAUDE_OPUS_4_0: 'claude-opus-4-0',
  CLAUDE_SONNET_4_0: 'claude-sonnet-4-0',
  CLAUDE_SONNET_4_5: 'claude-sonnet-4-5',
  CLAUDE_SONNET_4_5_20250929: 'claude-sonnet-4-5-20250929',
  CLAUDE_HAIKU_4_5: 'claude-haiku-4-5',
  CLAUDE_HAIKU_4_5_20251001: 'claude-haiku-4-5-20251001',

  GEMINI_PRO: 'gemini-pro',
  GEMINI_1_PRO_LATEST: 'gemini-1.0-pro-latest',
  GEMINI_15_PRO_LATEST: 'gemini-1.5-pro-latest',
  GEMINI_15_PRO_EXP_0801: 'gemini-1.5-pro-exp-0801',
  GEMINI_15_FLASH_LATEST: 'gemini-1.5-flash-latest',
  GEMINI_2_0_FLASH: 'gemini-2.0-flash',
  GEMINI_2_0_FLASH_001: 'gemini-2.0-flash-001',
  GEMINI_2_5_FLASH: 'gemini-2.5-flash',
  GEMINI_2_5_PRO: 'gemini-2.5-pro',

  COMMAND_R: 'command-r',
  COMMAND_R_PLUS: 'command-r-plus',
  MISTRAL_LARGE_LATEST: 'mistral-large-latest',
  MISTRAL_LARGE_2407: 'mistral-large-2407',
  MISTRAL_LARGE_2402: 'mistral-large-2402',
  MISTRAL_MEDIUM_LATEST: 'mistral-medium-latest',
  MISTRAL_SMALL_LATEST: 'mistral-small-latest',
  CODESTRAL_LATEST: 'codestral-latest',
  OPEN_MISTRAL_7B: 'open-mistral-7b',
  OPEN_MIXTRAL_8X7B: 'open-mixtral-8x7b',
  OPEN_MIXTRAL_8X22B: 'open-mixtral-8x22b',
  MISTRAL_7B_INSTRUCT_V0_2: 'Mistral-7B-Instruct-v0.2',
  MIXTRAL_8X7B_INSTRUCT_V0_1: 'Mixtral-8x7B-Instruct-v0.1',
  MIXTRAL_8X22B_INSTRUCT_V0_1: 'Mixtral-8x22B-Instruct-v0.1',
  LLAMA_3_70B_CHAT_HF: 'Llama-3-70b-chat-hf',
  LLAMA_3_8B_CHAT_HF: 'Llama-3-8b-chat-hf',
  QWEN2_72B_INSTRUCT: 'Qwen2-72B-Instruct',
  LLAMA_3_1_8B_INSTRUCT_TURBO: 'Meta-Llama-3.1-8B-Instruct-Turbo',
  LLAMA_3_1_70B_INSTRUCT_TURBO: 'Meta-Llama-3.1-70B-Instruct-Turbo',
  LLAMA_3_1_405B_INSTRUCT_TURBO: 'Meta-Llama-3.1-405B-Instruct-Turbo',
  PERPLEXITY_SONAR: 'sonar',
  OPEN_MISTRAL_NEMO: 'open-mistral-nemo',
  DEEPSEEK_R1: 'DeepSeek-R1',
} as const;

export const ProviderModelMap = {
  [SupportedProvider.OPENAI]: [
    SupportedModel.GPT_3_5_TURBO,
    SupportedModel.GPT_3_5_TURBO_0125,
    SupportedModel.GPT_4,
    SupportedModel.GPT_4_0613,
    SupportedModel.GPT_4_1106_PREVIEW,
    SupportedModel.GPT_4_TURBO,
    SupportedModel.GPT_4_TURBO_PREVIEW,
    SupportedModel.GPT_4_TURBO_2024_04_09,
    SupportedModel.GPT_4O_2024_05_13,
    SupportedModel.GPT_4O_2024_08_06,
    SupportedModel.GPT_4O,
    SupportedModel.GPT_4O_MINI_2024_07_18,
    SupportedModel.GPT_4O_MINI,
    SupportedModel.GPT_4_0125_PREVIEW,
    SupportedModel.CHATGPT_4O_LATEST,
    SupportedModel.GPT_4_1,
    SupportedModel.GPT_4_1_2025_04_14,
    SupportedModel.GPT_4_1_MINI,
    SupportedModel.GPT_4_1_MINI_2025_04_14,
    SupportedModel.GPT_4_1_NANO,
    SupportedModel.GPT_4_1_NANO_2025_04_14,
  ],
  [SupportedProvider.ANTHROPIC]: [
    SupportedModel.CLAUDE_2_1,
    SupportedModel.CLAUDE_3_OPUS_20240229,
    SupportedModel.CLAUDE_3_SONNET_20240229,
    SupportedModel.CLAUDE_3_5_SONNET_20240620,
    SupportedModel.CLAUDE_3_5_SONNET_20241022,
    SupportedModel.CLAUDE_3_5_SONNET_LATEST,
    SupportedModel.CLAUDE_3_HAIKU_20240307,
    SupportedModel.CLAUDE_3_5_HAIKU_20241022,
    SupportedModel.CLAUDE_3_7_SONNET_LATEST,
    SupportedModel.CLAUDE_3_7_SONNET_20250219,
    SupportedModel.CLAUDE_OPUS_4_20250514,
    SupportedModel.CLAUDE_SONNET_4_20250514,
    SupportedModel.CLAUDE_OPUS_4_0,
    SupportedModel.CLAUDE_SONNET_4_0,
    SupportedModel.CLAUDE_SONNET_4_5,
    SupportedModel.CLAUDE_SONNET_4_5_20250929,
    SupportedModel.CLAUDE_HAIKU_4_5,
    SupportedModel.CLAUDE_HAIKU_4_5_20251001,
  ],
  [SupportedProvider.GOOGLE]: [
    SupportedModel.GEMINI_PRO,
    SupportedModel.GEMINI_1_PRO_LATEST,
    SupportedModel.GEMINI_15_PRO_LATEST,
    SupportedModel.GEMINI_15_PRO_EXP_0801,
    SupportedModel.GEMINI_15_FLASH_LATEST,
    SupportedModel.GEMINI_2_0_FLASH,
    SupportedModel.GEMINI_2_0_FLASH_001,
    SupportedModel.GEMINI_2_5_FLASH,
    SupportedModel.GEMINI_2_5_PRO,
  ],
  [SupportedProvider.MISTRAL]: [
    SupportedModel.MISTRAL_LARGE_LATEST,
    SupportedModel.MISTRAL_LARGE_2407,
    SupportedModel.MISTRAL_LARGE_2402,
    SupportedModel.MISTRAL_MEDIUM_LATEST,
    SupportedModel.MISTRAL_SMALL_LATEST,
    SupportedModel.CODESTRAL_LATEST,
    SupportedModel.OPEN_MISTRAL_7B,
    SupportedModel.OPEN_MIXTRAL_8X7B,
    SupportedModel.OPEN_MIXTRAL_8X22B,
    SupportedModel.OPEN_MISTRAL_NEMO,
  ],
  [SupportedProvider.PERPLEXITY]: [SupportedModel.PERPLEXITY_SONAR],
  [SupportedProvider.COHERE]: [
    SupportedModel.COMMAND_R,
    SupportedModel.COMMAND_R_PLUS,
  ],
  [SupportedProvider.TOGETHERAI]: [
    SupportedModel.MISTRAL_7B_INSTRUCT_V0_2,
    SupportedModel.MIXTRAL_8X7B_INSTRUCT_V0_1,
    SupportedModel.MIXTRAL_8X22B_INSTRUCT_V0_1,
    SupportedModel.LLAMA_3_70B_CHAT_HF,
    SupportedModel.LLAMA_3_8B_CHAT_HF,
    SupportedModel.QWEN2_72B_INSTRUCT,
    SupportedModel.LLAMA_3_1_8B_INSTRUCT_TURBO,
    SupportedModel.LLAMA_3_1_70B_INSTRUCT_TURBO,
    SupportedModel.LLAMA_3_1_405B_INSTRUCT_TURBO,
    SupportedModel.DEEPSEEK_R1,
  ],
} as const;

type ProviderModelMapType = typeof ProviderModelMap;
type SupportedProviderType = keyof ProviderModelMapType;
type ModelForProvider<T extends SupportedProviderType> =
  ProviderModelMapType[T][number];

export interface Provider<
  T extends SupportedProviderType = SupportedProviderType,
> {
  provider: T;
  model: ModelForProvider<T>;
  contextLength?: number;
  inputPrice?: number;
  customInputPrice?: number;
  outputPrice?: number;
  customOutputPrice?: number;
  latency?: number;
  customLatency?: number;
  isCustom?: boolean;
  systemPrompt?: string;
}
